<div class="join-section mb-4">
  <h3 class="font-bold text-lg mb-2">Joins</h3>
  <div
    *ngFor="let join of joins; let i = index"
    class="flex flex-wrap items-center gap-4 mb-4"
  >
    <div class="flex items-center gap-2 w-full md:w-1/5">
      <label class="whitespace-nowrap">Type:</label>
      <select
        [(ngModel)]="join.type"
        (ngModelChange)="onJoinChange()"
        class="border border-gray-900 rounded-lg focus:ring-blue-500 focus:border-blue-500 block h-8 p-1 w-full"
      >
        <option value="INNER">INNER</option>
        <option value="LEFT">LEFT</option>
        <option value="RIGHT">RIGHT</option>
        <option value="FULL">FULL</option>
      </select>
    </div>

    <div class="flex items-center gap-2 w-full md:w-1/5">
      <label class="whitespace-nowrap">Table:</label>
      <div class="flex flex-col">
      <input
        type="text"
        [(ngModel)]="join.table"
        (ngModelChange)="onJoinChange(); onTableChange($event)"
        name="JoinTable{{ i }}"
        class="border border-gray-900 rounded-lg focus:ring-blue-500 focus:border-blue-500 block h-8 p-1 w-full"
        placeholder="Table name"
      />
      <p *ngIf="tableError" class="text-red-800 text-sm mt-1">{{ tableError }}</p>
    </div>
  </div>

    <div class="flex items-center gap-2 w-full md:w-1/5">
      <label class="whitespace-nowrap">Alias:</label>
      <div class="flex flex-col">
      <input
        type="text"
        [(ngModel)]="join.alias"
        (ngModelChange)="onJoinChange(); onAliasChange($event)"
        name="JoinAlias{{ i }}"
        class="border border-gray-900 rounded-lg focus:ring-blue-500 focus:border-blue-500 block h-8 p-1 w-full"
        placeholder="Table alias (Optional)"
      />
      <p *ngIf="aliasError" class="text-red-800 text-sm mt-1">{{ aliasError }}</p>
    </div>
    </div>

    <div class="flex items-center gap-2 w-full md:w-1/5">
      <label class="whitespace-nowrap">On:</label>
      <input
        type="text"
        [(ngModel)]="join.on"
        (ngModelChange)="onJoinChange()"
        name="JoinOn{{ i }}"
        class="border border-gray-900 rounded-lg focus:ring-blue-500 focus:border-blue-500 block h-8 p-1 w-full"
        placeholder="e.g., a.id = b.ref"
      />
    </div>

    <img
    src="remove.svg"
    (click)="removeJoin(i)"
      class="cursor-pointer w-8 h-8 hover:opacity-80"
    />

 
  <img
  src="add.svg"
    type="button"
    (click)="addJoin()"
    class="cursor-pointer w-8 h-8 hover:opacity-80"
  />
</div>
</div>


